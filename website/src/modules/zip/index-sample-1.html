<pre xmlns="http://www.w3.org/1999/xhtml">
<span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">stylesheet</span> <span class="nxml-namespace-attribute-xmlns">xmlns</span><span class="nxml-namespace-attribute-colon">:</span><span class="nxml-namespace-attribute-prefix">xsl</span>=<span class="nxml-namespace-attribute-value-delimiter">"</span><span class="nxml-namespace-attribute-value">http://www.w3.org/1999/XSL/Transform</span><span class="nxml-namespace-attribute-value-delimiter">"</span> 
                <span class="nxml-namespace-attribute-xmlns">xmlns</span><span class="nxml-namespace-attribute-colon">:</span><span class="nxml-namespace-attribute-prefix">xs</span>=<span class="nxml-namespace-attribute-value-delimiter">"</span><span class="nxml-namespace-attribute-value">http://www.w3.org/2001/XMLSchema</span><span class="nxml-namespace-attribute-value-delimiter">"</span> 
                <span class="nxml-namespace-attribute-xmlns">xmlns</span><span class="nxml-namespace-attribute-colon">:</span><span class="nxml-namespace-attribute-prefix">zip</span>=<span class="nxml-namespace-attribute-value-delimiter">"</span><span class="nxml-namespace-attribute-value">http://www.expath.org/mod/zip</span><span class="nxml-namespace-attribute-value-delimiter">"</span>
                <span class="nxml-attribute-local-name">version</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">2.0</span><span class="nxml-attribute-value-delimiter">"</span><span class="nxml-tag-delimiter">&gt;</span>

   <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">import</span> <span class="nxml-attribute-local-name">href</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">http://www.expath.org/mod/zip.xsl</span><span class="nxml-attribute-value-delimiter">"</span><span class="nxml-tag-slash">/</span><span class="nxml-tag-delimiter">&gt;</span>

   <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">output</span> <span class="nxml-attribute-local-name">indent</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">yes</span><span class="nxml-attribute-value-delimiter">"</span><span class="nxml-tag-slash">/</span><span class="nxml-tag-delimiter">&gt;</span>

   <span class="nxml-comment-delimiter">&lt;!--</span><span class="nxml-comment-content">
       $file is the ZIP file to use.  If $entry is set, extract that
       entry from $file, as an XML document.  If not, list the content
       of $file.
   </span><span class="nxml-comment-delimiter">--&gt;</span>
   <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">param</span> <span class="nxml-attribute-local-name">name</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">file</span><span class="nxml-attribute-value-delimiter">"</span>  <span class="nxml-attribute-local-name">as</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">xs:string</span><span class="nxml-attribute-value-delimiter">"</span><span class="nxml-tag-slash">/</span><span class="nxml-tag-delimiter">&gt;</span>
   <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">param</span> <span class="nxml-attribute-local-name">name</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">entry</span><span class="nxml-attribute-value-delimiter">"</span> <span class="nxml-attribute-local-name">as</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">xs:string?</span><span class="nxml-attribute-value-delimiter">"</span><span class="nxml-tag-slash">/</span><span class="nxml-tag-delimiter">&gt;</span>

   <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">template</span> <span class="nxml-attribute-local-name">name</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">main</span><span class="nxml-attribute-value-delimiter">"</span> <span class="nxml-attribute-local-name">match</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">/</span><span class="nxml-attribute-value-delimiter">"</span><span class="nxml-tag-delimiter">&gt;</span>
      <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">choose</span><span class="nxml-tag-delimiter">&gt;</span>
         <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">when</span> <span class="nxml-attribute-local-name">test</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">$entry</span><span class="nxml-attribute-value-delimiter">"</span><span class="nxml-tag-delimiter">&gt;</span>
            <span class="nxml-comment-delimiter">&lt;!--</span><span class="nxml-comment-content"> an XML entry in the ZIP file </span><span class="nxml-comment-delimiter">--&gt;</span>
            <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">sequence</span> <span class="nxml-attribute-local-name">select</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">zip:xml-entry($file, $entry)</span><span class="nxml-attribute-value-delimiter">"</span><span class="nxml-tag-slash">/</span><span class="nxml-tag-delimiter">&gt;</span>
         <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-tag-slash">/</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">when</span><span class="nxml-tag-delimiter">&gt;</span>
         <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">otherwise</span><span class="nxml-tag-delimiter">&gt;</span>
            <span class="nxml-comment-delimiter">&lt;!--</span><span class="nxml-comment-content"> the structure of the ZIP file </span><span class="nxml-comment-delimiter">--&gt;</span>
            <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">sequence</span> <span class="nxml-attribute-local-name">select</span>=<span class="nxml-attribute-value-delimiter">"</span><span class="nxml-attribute-value">zip:entries($file)</span><span class="nxml-attribute-value-delimiter">"</span><span class="nxml-tag-slash">/</span><span class="nxml-tag-delimiter">&gt;</span>
         <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-tag-slash">/</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">otherwise</span><span class="nxml-tag-delimiter">&gt;</span>
      <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-tag-slash">/</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">choose</span><span class="nxml-tag-delimiter">&gt;</span>
   <span class="nxml-tag-delimiter">&lt;</span><span class="nxml-tag-slash">/</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">template</span><span class="nxml-tag-delimiter">&gt;</span>

<span class="nxml-tag-delimiter">&lt;</span><span class="nxml-tag-slash">/</span><span class="nxml-element-prefix">xsl</span><span class="nxml-element-colon">:</span><span class="nxml-element-local-name">stylesheet</span><span class="nxml-tag-delimiter">&gt;</span>
</pre>

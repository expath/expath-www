<webapp xmlns="http://expath.org/ns/webapp/descriptor"
        xmlns:app="http://expath.org/ns/website"
        name="http://expath.org/website"
        abbrev="expath-website"
        version="0.1">

   <title>EXPath website</title>

   <!--
       Matches '/wiki/*', to failover in case Apache is not configured.
   -->
   <servlet name="wiki">
      <xslt uri="http://expath.org/ns/website/servlets.xsl"
            function="app:wiki-servlet"/>
      <url pattern="/wiki/.*"/>
   </servlet>

   <!--
       ...
   -->
   <servlet name="spec">
      <xslt uri="http://expath.org/ns/website/servlets.xsl"
            function="app:spec-servlet"/>
      <url pattern="/spec/(file|http-client|pkg|webapp|zip)(/20[0-9]{6})?(/diff)?(.xml)?">
         <match group="1" name="spec"/>
         <match group="2" name="date"/>
         <match group="3" name="diff"/>
         <match group="4" name="xml"/>
      </url>
   </servlet>

   <!--
       ...
   -->
   <servlet name="page">
      <xslt uri="http://expath.org/ns/website/servlets.xsl"
            function="app:page-servlet"/>
      <url pattern="/([-a-z0-9/]+)?">
         <match group="1" name="page"/>
      </url>
   </servlet>

   <!--
       The old addresses for the pages, ending in '.html'.
       
       TODO: Should be different for specs and pages.
   -->
   <servlet name="old-page">
      <xslt uri="http://expath.org/ns/website/servlets.xsl"
            function="app:old-page-servlet"/>
      <url pattern="/([-a-z0-9/]+).html">
         <match group="1" name="page"/>
      </url>
   </servlet>

   <resource pattern="/atom.xml"      media-type="application/xml"/>
   <resource pattern="/style/.+.css"  media-type="text/css"/>
   <resource pattern="/js/.+.js"      media-type="text/javascript"/>
   <resource pattern="/images/.+.png" media-type="image/png"/>
   <resource pattern="/images/.+.jpg" media-type="image/jpeg"/>
   <resource pattern="/images/.+.gif" media-type="image/gif"/>

</webapp>

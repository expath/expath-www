<webapp xmlns="http://expath.org/ns/webapp/descriptor"
        xmlns:app="http://expath.org/ns/website"
        name="http://expath.org/website"
        abbrev="expath-website"
        version="0.1">

   <title>EXPath website</title>

   <!--
       Matches '/wiki/*', to failover in case Apache is not configured.
   -->
   <servlet name="wiki">
      <xslt function="app:wiki-servlet">
         <import-uri>http://expath.org/ns/website/servlets.xsl</import-uri>
      </xslt>
      <url pattern="/wiki/.*"/>
   </servlet>

   <!--
       ...
   -->
   <servlet name="spec">
      <xslt function="app:spec-servlet">
         <import-uri>http://expath.org/ns/website/servlets.xsl</import-uri>
      </xslt>
      <url pattern="/spec/(http-client|pkg|webapp|zip)(-20[0-9]{6})?(-diff)?(.xml)?">
         <match group="1" name="spec"/>
         <match group="2" name="date"/>
         <match group="3" name="diff"/>
         <match group="4" name="xml"/>
      </url>
   </servlet>

   <!--
       ...
   -->
   <servlet name="page">
      <xslt function="app:page-servlet">
         <import-uri>http://expath.org/ns/website/servlets.xsl</import-uri>
      </xslt>
      <url pattern="/([-a-z0-9/]+)?">
         <match group="1" name="page"/>
      </url>
   </servlet>

   <!--
       The old addresses for the pages, ending in '.html'.
       
       TODO: Should be different for specs and pages.
   -->
   <servlet name="old-page">
      <xslt function="app:old-page-servlet">
         <import-uri>http://expath.org/ns/website/servlets.xsl</import-uri>
      </xslt>
      <url pattern="/([-a-z0-9/]+).html">
         <match group="1" name="page"/>
      </url>
   </servlet>

   <resource pattern="/style/.+.css"  media-type="text/css"/>
   <resource pattern="/images/.+.png" media-type="image/png"/>
   <resource pattern="/images/.+.jpg" media-type="image/jpeg"/>
   <resource pattern="/images/.+.gif" media-type="image/gif"/>

</webapp>
